query GetProductsByCategory($slug: ID!, $first: Int = 24) {
  productCategory(id: $slug, idType: SLUG) {
    id
    name
    slug
    description

    # ðŸ§­ Breadcrumbs (ancestors van boven â†’ beneden)
    ancestors {
      nodes {
        id
        name
        slug
      }
    }

    # ðŸ”™ Parentcategorie (voor teruglink)
    parent {
      node {
        id
        name
        slug
      }
    }

    # ðŸ§± SubcategorieÃ«n (1 niveau diep, incl. sub-subcategorieÃ«n)
    children {
      nodes {
        id
        name
        slug
        count
        children {
          nodes {
            id
            name
            slug
            count
          }
        }
      }
    }

    # ðŸ›’ Producten binnen deze categorie
    products(first: $first) {
      nodes {
        id
        databaseId
        slug
        name
        type

        image {
          sourceUrl
          altText
        }

        productCategories {
          nodes {
            id
            name
            slug
          }
        }

        # ðŸ’° Prijsinformatie
        ... on SimpleProduct {
          price
          regularPrice
          salePrice
          onSale
          stockStatus
        }

        ... on VariableProduct {
          price
          regularPrice
          salePrice
          onSale
          stockStatus
        }

        ... on ExternalProduct {
          price
          regularPrice
          salePrice
          onSale
          externalUrl
          buttonText
        }

        # ðŸŽ¨ Attributen (kleur, maat, etc.)
        ... on ProductWithAttributes {
          attributes {
            nodes {
              label
              options
            }
          }
        }
      }
    }
  }
}
